(function(){jQuery(function(){return $.bootstragram=$.bootstragram||{},$.bootstragram.canvasBlender=function(a,b,c,d){return null==d&&(d={}),this.canvasID=a,this.plainImageURL=b,this.multipliedImageURL=c,this.blendMode=d.blendMode||"multiply",this.verbose=d.verbose||!1,this.plainImage=null,this.multipliedImage=null,this.canvas=document.getElementById(a),this.context=this.canvas.getContext("2d"),this},$.bootstragram.canvasBlender.prototype.loadImages=function(a){var b;return this.verbose&&console.debug("Downloading "+this.plainImageURL),b=this,this.plainImage=new Image,this.plainImage.onload=function(){return b.verbose&&console.debug("Downloading "+b.multipliedImageURL),b.multipliedImage=new Image,b.multipliedImage.onload=function(){return a()},b.multipliedImage.src=b.multipliedImageURL},this.plainImage.src=this.plainImageURL},$.bootstragram.canvasBlender.prototype.draw=function(a){var b,c;return this.verbose&&(0>a||a>1)&&console.warn("[canvasBlender] alphaValue should be between 0 and 1"),c=this.context,b=this.canvas,c.clearRect(0,0,b.width,b.height),c.globalAlpha=1,c.globalCompositeOperation="source-over",c.drawImage(this.plainImage,0,0,b.width,b.height),c.globalAlpha=a,c.globalCompositeOperation=this.blendMode,c.drawImage(this.multipliedImage,0,0,b.width,b.height)}})}).call(this);